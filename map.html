<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBP - Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…Ø³Ø§Ø±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .hero {
            padding: 40px 20px 30px;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.8em;
            font-weight: 300;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #fff 0%, #f0f0f0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 30px;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù„ØºØ§Øª */
        .language-bar {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 40px;
        }

        .lang-btn {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .lang-btn.active {
            background: white;
            color: #667eea;
        }

        /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙˆØ¬Ù‡Ø© */
        .destination-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            margin: 0 auto 30px;
            max-width: 600px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        .destination-card h2 {
            font-size: 1.8em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .destination-card p {
            font-size: 1.3em;
            opacity: 0.9;
        }

        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .main-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 50px 40px;
            margin: 0 auto;
            max-width: 800px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .main-card h2 {
            font-size: 2em;
            margin-bottom: 30px;
            font-weight: 600;
            text-align: center;
        }

        /* Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ø³Ø§Ø± */
        .path-steps {
            position: relative;
            padding: 20px 0;
        }

        .step {
            display: flex;
            align-items: center;
            margin: 30px 0;
            padding: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border-right: 4px solid rgba(255, 255, 255, 0.3);
            position: relative;
            transition: all 0.3s ease;
        }

        .step:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(-5px);
        }

        .step-number {
            background: white;
            color: #667eea;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-left: 20px;
            flex-shrink: 0;
        }

        .step-content {
            flex-grow: 1;
        }

        .step-title {
            font-weight: 600;
            font-size: 1.3em;
            margin-bottom: 8px;
        }

        .step-desc {
            opacity: 0.9;
            font-size: 1em;
        }

        .step-icon {
            font-size: 2em;
            margin-left: 15px;
            flex-shrink: 0;
        }

        .path-line {
            position: absolute;
            right: 62px;
            top: 70px;
            bottom: 70px;
            width: 3px;
            background: linear-gradient(to bottom, rgba(255,255,255,0.5), rgba(255,255,255,0.2));
            z-index: 1;
        }

        /* Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ */
        .building-map {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 40px 0;
        }

        .building-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px 15px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .building-item.current {
            background: rgba(255, 255, 255, 0.2);
            border-color: white;
            transform: scale(1.05);
        }

        .building-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .building-name {
            font-weight: 600;
            font-size: 1.1em;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
        .button-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 50px;
        }

        .primary-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 18px 45px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .primary-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
        }

        .secondary-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 16px 35px;
            border-radius: 50px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .secondary-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* Ø§Ù„ØªØ°ÙŠÙŠÙ„ */
        .footer {
            margin-top: 60px;
            text-align: center;
            opacity: 0.7;
        }

        /* Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù„Ù„Ø¬ÙˆØ§Ù„ */
        @media (max-width: 768px) {
            .building-map {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .main-card {
                padding: 30px 25px;
                margin: 0 20px;
            }
            
            .step {
                flex-direction: column;
                text-align: center;
            }
            
            .step-number {
                margin-left: 0;
                margin-bottom: 15px;
            }
            
            .path-line {
                display: none;
            }
            
            .button-group {
                flex-direction: column;
                align-items: center;
            }
            
            .primary-btn, .secondary-btn {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <div class="hero">
            <h1 id="mapTitle">Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…Ø³Ø§Ø±</h1>
            <p id="mapSubtitle">Ø¯Ù„ÙŠÙ„Ùƒ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙØ©</p>
            
            <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù„ØºØ§Øª -->
            <div class="language-bar">
                <button class="lang-btn active" onclick="setLanguage('ar')">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</button>
                <button class="lang-btn" onclick="setLanguage('en')">English</button>
                <button class="lang-btn" onclick="setLanguage('zh')">ä¸­æ–‡</button>
            </div>
        </div>

        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙˆØ¬Ù‡Ø© -->
        <div class="destination-card">
            <h2 id="destinationTitle">ÙˆØ¬Ù‡ØªÙƒ:</h2>
            <p id="destinationDetails">Ø§Ù„Ù…Ø¨Ù†Ù‰ A - Ø§Ù„ØºØ±ÙØ© 101</p>
        </div>

        <!-- Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div class="main-card">
            <h2 id="pathTitle">Ù…Ø³Ø§Ø± Ø§Ù„Ø±Ø­Ù„Ø©</h2>

            <!-- Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ø³Ø§Ø± -->
            <div class="path-steps">
                <div class="path-line"></div>
                
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-title" id="step1Title">Ù‚Ø§Ø¹Ø© Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
                        <div class="step-desc" id="step1Desc">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù…Ù† Ù‡Ù†Ø§</div>
                    </div>
                    <div class="step-icon">ğŸšª</div>
                </div>

                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <div class="step-title" id="step2Title">Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø·ÙŠØ±Ø§Ø³</div>
                        <div class="step-desc" id="step2Desc">Ø§Ù…Ø´ÙŠ 10 Ø®Ø·ÙˆØ§Øª Ù„Ù„Ø®Ø±ÙˆØ¬</div>
                    </div>
                    <div class="step-icon">ğŸš¶</div>
                </div>

                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <div class="step-title" id="step3Title">Ø§Ù„Ù…Ø³Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¨Ù†Ù‰</div>
                        <div class="step-desc" id="step3Desc">Ø§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø£Ø¯Ù†Ø§Ù‡</div>
                    </div>
                    <div class="step-icon">ğŸ—ºï¸</div>
                </div>

                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <div class="step-title" id="step4Title">Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙØ©</div>
                        <div class="step-desc" id="step4Desc">ÙˆØµÙ„Øª Ø¥Ù„Ù‰ ÙˆØ¬Ù‡ØªÙƒ</div>
                    </div>
                    <div class="step-icon">ğŸ¯</div>
                </div>
            </div>

            <!-- Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ -->
            <div class="building-map" id="buildingMap">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
            </div>

            <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
            <div class="button-group">
                <button class="secondary-btn" onclick="goBack()" id="backButton">Ø±Ø¬ÙˆØ¹</button>
                <button class="primary-btn" onclick="restartJourney()" id="restartButton">Ø¨Ø¯Ø¡ Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
            </div>
        </div>

        <!-- Ø§Ù„ØªØ°ÙŠÙŠÙ„ -->
        <div class="footer">
            <p>OBP Smart Guide System</p>
        </div>
    </div>

    <script>
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø·
        const urlParams = new URLSearchParams(window.location.search);
        const building = urlParams.get('building');
        const room = urlParams.get('room');

        // ØªØ±Ø¬Ù…Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©
        const mapTranslations = {
            ar: {
                mapTitle: "Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…Ø³Ø§Ø±",
                mapSubtitle: "Ø¯Ù„ÙŠÙ„Ùƒ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙØ©",
                destinationTitle: "ÙˆØ¬Ù‡ØªÙƒ:",
                pathTitle: "Ù…Ø³Ø§Ø± Ø§Ù„Ø±Ø­Ù„Ø©",
                step1Title: "Ù‚Ø§Ø¹Ø© Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
                step1Desc: "Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù…Ù† Ù‡Ù†Ø§",
                step2Title: "Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø·ÙŠØ±Ø§Ø³",
                step2Desc: "Ø§Ù…Ø´ÙŠ 10 Ø®Ø·ÙˆØ§Øª Ù„Ù„Ø®Ø±ÙˆØ¬",
                step3Title: "Ø§Ù„Ù…Ø³Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¨Ù†Ù‰",
                step3Desc: "Ø§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø£Ø¯Ù†Ø§Ù‡",
                step4Title: "Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙØ©",
                step4Desc: "ÙˆØµÙ„Øª Ø¥Ù„Ù‰ ÙˆØ¬Ù‡ØªÙƒ",
                backButton: "Ø±Ø¬ÙˆØ¹",
                restartButton: "Ø¨Ø¯Ø¡ Ø±Ø­Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©",
                building: "Ù…Ø¨Ù†Ù‰",
                room: "ØºØ±ÙØ©",
                steps: "Ø®Ø·ÙˆØ©",
                left: "ÙŠØ³Ø§Ø±",
                right: "ÙŠÙ…ÙŠÙ†"
            },
            en: {
                mapTitle: "Path Map",
                mapSubtitle: "Your detailed guide from reception to room",
                destinationTitle: "Your Destination:",
                pathTitle: "Journey Path",
                step1Title: "Main Reception Hall",
                step1Desc: "Start your journey from here",
                step2Title: "Exit to Terrace",
                step2Desc: "Walk 10 steps to exit",
                step3Title: "Path to Building",
                step3Desc: "Follow instructions below",
                step4Title: "Arrive at Room",
                step4Desc: "You reached your destination",
                backButton: "Back",
                restartButton: "Start New Journey",
                building: "Building",
                room: "Room",
                steps: "steps",
                left: "left",
                right: "right"
            },
            zh: {
                mapTitle: "è·¯å¾„åœ°å›¾",
                mapSubtitle: "ä»æ¥å¾…å¤„åˆ°æˆ¿é—´çš„è¯¦ç»†æŒ‡å—",
                destinationTitle: "æ‚¨çš„ç›®çš„åœ°ï¼š",
                pathTitle: "æ—…ç¨‹è·¯å¾„",
                step1Title: "ä¸»æ¥å¾…å¤§å…",
                step1Desc: "ä»è¿™é‡Œå¼€å§‹æ‚¨çš„æ—…ç¨‹",
                step2Title: "èµ°åˆ°éœ²å°",
                step2Desc: "èµ°10æ­¥å‡ºé—¨",
                step3Title: "å‰å¾€å¤§æ¥¼çš„è·¯å¾„",
                step3Desc: "æŒ‰ç…§ä»¥ä¸‹è¯´æ˜æ“ä½œ",
                step4Title: "åˆ°è¾¾æˆ¿é—´",
                step4Desc: "æ‚¨å·²åˆ°è¾¾ç›®çš„åœ°",
                backButton: "è¿”å›",
                restartButton: "å¼€å§‹æ–°æ—…ç¨‹",
                building: "å¤§æ¥¼",
                room: "æˆ¿é—´",
                steps: "æ­¥",
                left: "å·¦",
                right: "å³"
            }
        };

        function updateDestination() {
            const destinationElement = document.getElementById('destinationDetails');
            if (building && room) {
                destinationElement.textContent = `${mapTranslations[currentLang].building} ${building} - ${mapTranslations[currentLang].room} ${room}`;
            }
        }

        function updateBuildingMap() {
            const buildingMap = document.getElementById('buildingMap');
            const buildings = ['A', 'B', 'C', 'D'];
            
            buildingMap.innerHTML = buildings.map(b => `
                <div class="building-item ${b === building ? 'current' : ''}">
                    <div class="building-icon">ğŸ¢</div>
                    <div class="building-name">${mapTranslations[currentLang].building} ${b}</div>
                </div>
            `).join('');
        }

        function updatePathInstructions() {
            if (building) {
                const step3Element = document.querySelector('.step:nth-child(3) .step-desc');
                let instructions = '';
                
                switch(building) {
                    case 'A':
                        instructions = currentLang === 'ar' ? 'Ø§ØªØ¬Ù‡ 35 Ø®Ø·ÙˆØ© Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±' :
                                      currentLang === 'en' ? 'Go 35 steps to the left' :
                                      'å‘å·¦èµ°35æ­¥';
                        break;
                    case 'B':
                        instructions = currentLang === 'ar' ? 'Ø§ØªØ¬Ù‡ 35 Ø®Ø·ÙˆØ© Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙ…ÙŠÙ†' :
                                      currentLang === 'en' ? 'Go 35 steps to the right' :
                                      'å‘å³èµ°35æ­¥';
                        break;
                    case 'C':
                        instructions = currentLang === 'ar' ? 'Ø§ØªØ¬Ù‡ 70 Ø®Ø·ÙˆØ© (ÙŠÙ…ÙŠÙ† Ø«Ù… ÙŠØ³Ø§Ø±)' :
                                      currentLang === 'en' ? 'Go 70 steps (right then left)' :
                                      'èµ°70æ­¥ï¼ˆå…ˆå³åå·¦ï¼‰';
                        break;
                    case 'D':
                        instructions = currentLang === 'ar' ? 'Ø§ØªØ¬Ù‡ 70 Ø®Ø·ÙˆØ© (ÙŠØ³Ø§Ø± Ø«Ù… ÙŠÙ…ÙŠÙ†)' :
                                      currentLang === 'en' ? 'Go 70 steps (left then right)' :
                                      'èµ°70æ­¥ï¼ˆå…ˆå·¦åå³ï¼‰';
                        break;
                }
                
                step3Element.textContent = instructions;
            }
        }

        function goBack() {
            window.location.href = 'form.html';
        }

        function restartJourney() {
            window.location.href = 'index.html';
        }

        function setLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('obp_language', lang);
            
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            applyTranslations();
        }

        function applyTranslations() {
            for (const [key, value] of Object.entries(translations[currentLang])) {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = value;
                }
            }
            
            for (const [key, value] of Object.entries(mapTranslations[currentLang])) {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = value;
                }
            }
            
            updateDestination();
            updateBuildingMap();
            updatePathInstructions();
        }

        const translations = {
            ar: {
                mapTitle: "Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…Ø³Ø§Ø±",
                mapSubtitle: "Ø¯Ù„ÙŠÙ„Ùƒ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙØ©"
            },
            en: {
                mapTitle: "Path Map",
                mapSubtitle: "Your detailed guide from reception to room"
            },
            zh: {
                mapTitle: "è·¯å¾„åœ°å›¾",
                mapSubtitle: "ä»æ¥å¾…å¤„åˆ°æˆ¿é—´çš„è¯¦ç»†æŒ‡å—"
            }
        };

        let currentLang = localStorage.getItem('obp_language') || 'ar';

        document.addEventListener('DOMContentLoaded', function() {
            applyTranslations();
        });
    </script>
</body>
</html>
