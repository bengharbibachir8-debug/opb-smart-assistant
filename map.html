<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OBP - ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="netrix-style.css">
</head>
<body>
    <div class="container">
        <!-- ุงูููุฏุฑ -->
        <nav class="navbar">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-map"></i>
                </div>
                <span>ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ</span>
            </div>
        </nav>

        <!-- ุดุฑูุท ุงููุบุงุช -->
        <div class="language-bar">
            <button class="lang-btn active" onclick="setLanguage('ar')">ุงูุนุฑุจูุฉ</button>
            <button class="lang-btn" onclick="setLanguage('en')">English</button>
            <button class="lang-btn" onclick="setLanguage('zh')">ไธญๆ</button>
        </div>

        <!-- ูุนูููุงุช ุงููุฌูุฉ -->
        <div class="card">
            <div class="card-header">
                <h1 class="card-title" id="destinationTitle">ูุฌูุชู</h1>
                <p class="card-subtitle" id="destinationDetails">ุฌุงุฑู ุชุญููู ุงููุนูููุงุช...</p>
            </div>
        </div>

        <!-- ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ</h2>
                <p class="card-subtitle">ุดุงูุฏ ุงููุณุงุฑ ูู ุงูุงุณุชูุจุงู ุฅูู ูุจูุงู</p>
            </div>

            <div class="map-container">
                <div class="building-map">
                    <!-- ุงูููุทุฉ ุงููุชุญุฑูุฉ -->
                    <div class="moving-dot"></div>

                    <!-- ุงููุณุงุฑุงุช -->
                    <div class="path-line path-vertical"></div>
                    <div class="path-line path-horizontal"></div>

                    <!-- ุงููุจุงูู -->
                    <div class="map-building reception" id="receptionBuilding">
                        <i class="fas fa-door-open"></i><br>
                        <span style="font-size: 0.8em;">ุงูุงุณุชูุจุงู</span>
                    </div>
                    <div class="map-building a" id="mapBuildingA">
                        <i class="fas fa-building"></i><br>
                        <span style="font-size: 0.8em;">ุงููุจูู A</span>
                    </div>
                    <div class="map-building b" id="mapBuildingB">
                        <i class="fas fa-building"></i><br>
                        <span style="font-size: 0.8em;">ุงููุจูู B</span>
                    </div>
                    <div class="map-building c" id="mapBuildingC">
                        <i class="fas fa-building"></i><br>
                        <span style="font-size: 0.8em;">ุงููุจูู C</span>
                    </div>
                    <div class="map-building d" id="mapBuildingD">
                        <i class="fas fa-building"></i><br>
                        <span style="font-size: 0.8em;">ุงููุจูู D</span>
                    </div>
                </div>
            </div>

            <!-- ุชุนูููุงุช ุงููุณุงุฑ -->
            <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 10px; padding: 15px; margin: 20px 0;">
                <h4 style="color: #10B981; margin-bottom: 10px;">
                    <i class="fas fa-route"></i>
                    ุชุนูููุงุช ุงููุณุงุฑ
                </h4>
                <div style="color: #9CA3AF; font-size: 0.9em; line-height: 1.6;">
                    <div>โข ุงุจุฏุฃ ูู ูุงุนุฉ ุงูุงุณุชูุจุงู ๐ข</div>
                    <div>โข ุงูุดู 35 ุฎุทูุฉ ุฅูู ุงูุทูุฑุงุณ ๐ฟ</div>
                    <div>โข ุงููุจุงูู: A (ูุณุงุฑ) โ B (ูููู) โ C (ูุณุงุฑ) โ D (ูููู)</div>
                    <div>โข ุงููุณุงูุฉ ุงูุฅุฌูุงููุฉ: 140-160 ุฎุทูุฉ</div>
                </div>
            </div>

            <!-- ุฃุฒุฑุงุฑ ุงูุชุญูู -->
            <div style="display: flex; gap: 12px;">
                <button class="btn btn-secondary" onclick="goBack()" id="backButton">
                    <i class="fas fa-arrow-right"></i>
                    <span>ุฑุฌูุน</span>
                </button>
                <button class="btn btn-primary" onclick="restartAnimation()" id="restartButton">
                    <i class="fas fa-redo"></i>
                    <span>ุฅุนุงุฏุฉ ุงูุชุดุบูู</span>
                </button>
            </div>
        </div>

        <!-- ุงูุชุฐููู -->
        <div class="footer">
            <p>OBP Navigation System</p>
        </div>
    </div>

    <script>
        // ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุฑุญูุฉ
        const urlParams = new URLSearchParams(window.location.search);
        const building = urlParams.get('building');
        const room = urlParams.get('room');

        // ุชุฑุฌูุฉ ุฅุถุงููุฉ ููุฐู ุงูุตูุญุฉ
        const mapTranslations = {
            ar: {
                destinationTitle: "ูุฌูุชู",
                backButton: "ุฑุฌูุน",
                restartButton: "ุฅุนุงุฏุฉ ุงูุชุดุบูู",
                receptionBuilding: "ุงูุงุณุชูุจุงู",
                mapBuildingA: "ุงููุจูู A",
                mapBuildingB: "ุงููุจูู B",
                mapBuildingC: "ุงููุจูู C",
                mapBuildingD: "ุงููุจูู D"
            },
            en: {
                destinationTitle: "Your Destination",
                backButton: "Back",
                restartButton: "Restart",
                receptionBuilding: "Reception",
                mapBuildingA: "Building A",
                mapBuildingB: "Building B",
                mapBuildingC: "Building C",
                mapBuildingD: "Building D"
            },
            zh: {
                destinationTitle: "ๆจ็็ฎ็ๅฐ",
                backButton: "่ฟๅ",
                restartButton: "้ๆฐๅผๅง",
                receptionBuilding: "ๆฅๅพๅค",
                mapBuildingA: "ๅคงๆฅผ A",
                mapBuildingB: "ๅคงๆฅผ B",
                mapBuildingC: "ๅคงๆฅผ C",
                mapBuildingD: "ๅคงๆฅผ D"
            }
        };

        function updateDestination() {
            const destinationDetails = document.getElementById('destinationDetails');
            if (building && room) {
                destinationDetails.textContent = `ุงููุจูู ${building} - ุงูุบุฑูุฉ ${room}`;
                
                // ุชูููุฒ ุงููุจูู ุงููุฎุชุงุฑ ุนูู ุงูุฎุฑูุทุฉ
                const selectedMapBuilding = document.getElementById(`mapBuilding${building}`);
                if (selectedMapBuilding) {
                    selectedMapBuilding.classList.add('selected');
                }
            }
        }

        function goBack() {
            window.location.href = 'form.html';
        }

        function restartAnimation() {
            const dot = document.querySelector('.moving-dot');
            dot.style.animation = 'none';
            setTimeout(() => {
                dot.style.animation = 'moveDot 6s ease-in-out infinite';
            }, 10);
        }

        function applyMapTranslations() {
            for (const [key, value] of Object.entries(mapTranslations[currentLang])) {
                const element = document.getElementById(key);
                if (element) {
                    element.textContent = value;
                }
            }
        }

        // ุชุทุจูู ุนูุฏ ุงูุชุญููู
        document.addEventListener('DOMContentLoaded', function() {
            const savedLang = localStorage.getItem('obp_language') || 'ar';
            setLanguage(savedLang);
            applyMapTranslations();
            updateDestination();
        });
    </script>
</body>
</html>
